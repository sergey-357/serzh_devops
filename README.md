# Структура ansible плейбука
При написание ansible плейбуков нужно стараться придерживаться определенной структуры, чтобы в дальнейшем можно было без труда понять, что выполняет плейбук.

# Задание
построй структуру плейбука похожим образом - [тык](https://github.com/ansible/ansible-examples/tree/master/jboss-standalone)

Корневая директория текущей ветки должна содержать:
- Файл inventory (hosts), в котором будет информация о хосте
- Директорию roles, в которой будут находится роли с заданиями (tasks)
- Плейбук, который ты будешь запускать

Сам плейбук должен выполнить на удаленном сервере задачи, разными ролями:

- Роль №01 выполняет:
  - Создание пользователя nginx на удаленном сервере
  - Проброс публичного ключа для пользователя ([тык](https://mahira-technology.medium.com/how-to-copy-ssh-key-to-remote-host-using-ansible-9b0fd00f3786))
  - Установку podman ([тык](https://tproger.ru/articles/podman-alternativa-docker/#:~:text=%D0%A7%D1%82%D0%BE%20%D1%82%D0%B0%D0%BA%D0%BE%D0%B5%20Podman,%D0%B0%20%D1%82%D0%B0%D0%BA%D0%B6%D0%B5%20%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%82%D1%8C%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%B0%D0%BC%D0%B8%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80%D0%BE%D0%B2.))

- Роль №02 выполняет под пользователем nginx:
  - Создание директории для контейнера nginx, в которой будут хранится данные сервера. Путь: /opt/nginx/etc/nginx/
  - Копирование файла nginx.conf в директорию /opt/nginx/etc/nginx/
  - Запуск контейнера инструментом podman (если не получится - используй docker) с передачей nginx.conf, который находится в /opt/nginx/etc/nginx/nginx.conf (прикрепление volume к контейнеру)

Отредактируй nginx.conf таким образом, чтобы переходя по ссылке перебрасывало на [ya.ru](ya.ru)

Файл nginx.conf размести в директории files роли

Работу фиксируй в git, после первого коммита - открывай ПР

Материалы:
- [Документация ansible](https://docs.ansible.com/ansible/latest/index.html)
